<!DOCTYPE html>
<html lang="en">

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <title>Forcecast</title>
</head>

<body>

  <div class="container">
    <div class="row flex-nowrap">
      <!-- SideBar with navigation -->
      <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-info bg-gradient">
        <div class="text-white p-3">
          <!-- Display location -->
          <div class="mb-3">
            <h3>Amsterdam</h3> <!-- Replace with your actual location data -->
          </div>
          <!-- Display temperature -->
          <div class="mb-4">
            <span>
              <h2 class="currentTime">
                19:52
              </h2>
            </span>
          </div>
          <div class="mb-4">
            <span>25&deg;C</span> <!-- Replace with your actual temperature data -->
          </div>

          <!-- Display date and time -->
          <div class="mb-3">
            <span> 28-9-2023</span> <!-- Replace with your actual date and time data -->
          </div>

          <!-- Display weather conditions -->
          <div>
            <span>Partly Cloudy</span> <!-- Replace with your actual weather conditions data -->
          </div>
          <div class="card mt-3">
            <div class="card-header">
              <h5 class="card-title">Temperature Range Selector</h5>
            </div>
            <div class="card-body">
              <div class="form-group">
                <label>Set temperature range:</label>
                <input type="range" class="form-control-range" id="tempRange" min="0" max="35" step="0.1">
                <span id="tempValue">17,5</span> &deg;C
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="container">
        <div class="row">
          <div class="col-md-9 mt-3">
            <div class="card">
              <canvas id="temperature-chart"></canvas>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-5">
            <div class="card">
              <canvas id="humidity-chart"></canvas>
            </div>
          </div>
          <div class="col-md-5">
            <div class="card">
              <canvas id="windspeed-chart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/temperature_chart.js"></script>
<script src="/js/humidity_chart.js"></script>
<script src="/js/windspeed_chart.js"></script>
<script>

  function sendTemperatureData() {

    const tempRange = document.getElementById('tempRange');
    const tempValue = document.getElementById('tempValue');

    tempRange.addEventListener("input", function () {
      tempValue.textContent = tempRange.value;
      fetch('/php/send_temperature_range.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ "minTemp": tempRange.value, "maxTemp": tempRange.value }),
      })
    });
  }

  sendTemperatureData();

</script>

</html>